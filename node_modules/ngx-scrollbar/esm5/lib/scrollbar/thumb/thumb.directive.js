/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import * as tslib_1 from "tslib";
import { Directive, Inject, ElementRef } from '@angular/core';
import { DOCUMENT } from '@angular/common';
import { RtlScrollAxisType } from '@angular/cdk/platform';
import { Directionality } from '@angular/cdk/bidi';
import { NgScrollbar } from '../../ng-scrollbar';
import { ThumbAdapter } from './thumb';
var ThumbXDirective = /** @class */ (function (_super) {
    tslib_1.__extends(ThumbXDirective, _super);
    function ThumbXDirective(cmp, element, document, dir) {
        var _this = _super.call(this, cmp, element.nativeElement, document) || this;
        _this.cmp = cmp;
        _this.element = element;
        _this.document = document;
        _this.dir = dir;
        return _this;
    }
    Object.defineProperty(ThumbXDirective.prototype, "clientProperty", {
        get: /**
         * @protected
         * @return {?}
         */
        function () {
            return 'clientX';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ThumbXDirective.prototype, "pageProperty", {
        get: /**
         * @protected
         * @return {?}
         */
        function () {
            return 'pageX';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ThumbXDirective.prototype, "viewportScrollSize", {
        get: /**
         * @protected
         * @return {?}
         */
        function () {
            return this.cmp.viewport.scrollWidth;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ThumbXDirective.prototype, "viewportScrollOffset", {
        get: /**
         * @protected
         * @return {?}
         */
        function () {
            return this.cmp.viewport.scrollLeft;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ThumbXDirective.prototype, "viewportScrollMax", {
        get: /**
         * @return {?}
         */
        function () {
            return this.cmp.viewport.scrollMaxX;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ThumbXDirective.prototype, "dragStartOffset", {
        get: /**
         * @return {?}
         */
        function () {
            return this.clientRect.left;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ThumbXDirective.prototype, "size", {
        get: /**
         * @return {?}
         */
        function () {
            return this.thumbElement.clientWidth;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @protected
     * @param {?} position
     * @param {?} size
     * @return {?}
     */
    ThumbXDirective.prototype.updateStyles = /**
     * @protected
     * @param {?} position
     * @param {?} size
     * @return {?}
     */
    function (position, size) {
        this.thumbElement.style.width = size + "px";
        this.thumbElement.style.transform = "translate3d(" + position + "px, 0, 0)";
    };
    /**
     * @protected
     * @param {?} position
     * @param {?} scrollMax
     * @return {?}
     */
    ThumbXDirective.prototype.handleDrag = /**
     * @protected
     * @param {?} position
     * @param {?} scrollMax
     * @return {?}
     */
    function (position, scrollMax) {
        if (this.dir.value === 'rtl') {
            if (this.cmp.manager.rtlScrollAxisType === RtlScrollAxisType.NEGATED) {
                return position - scrollMax;
            }
            if (this.cmp.manager.rtlScrollAxisType === RtlScrollAxisType.INVERTED) {
                return scrollMax - position;
            }
            // Keeping this as a memo
            // if (this.rtlScrollAxisType === RtlScrollAxisType.NORMAL) {
            //   return position;
            // }
        }
        return position;
    };
    /**
     * @protected
     * @param {?} position
     * @param {?} trackMax
     * @return {?}
     */
    ThumbXDirective.prototype.handleDirection = /**
     * @protected
     * @param {?} position
     * @param {?} trackMax
     * @return {?}
     */
    function (position, trackMax) {
        if (this.dir.value === 'rtl') {
            if (this.cmp.manager.rtlScrollAxisType === RtlScrollAxisType.INVERTED) {
                return -position;
            }
            if (this.cmp.manager.rtlScrollAxisType === RtlScrollAxisType.NORMAL) {
                return position - trackMax;
            }
            // Keeping this as a memo
            // if (this.rtlScrollAxisType === RtlScrollAxisType.NEGATED) {
            //   return position;
            // }
        }
        return position;
    };
    /**
     * @protected
     * @param {?} value
     * @return {?}
     */
    ThumbXDirective.prototype.setDragging = /**
     * @protected
     * @param {?} value
     * @return {?}
     */
    function (value) {
        this.cmp.setDragging({ horizontalDragging: value });
    };
    /**
     * @protected
     * @param {?} position
     * @return {?}
     */
    ThumbXDirective.prototype.scrollTo = /**
     * @protected
     * @param {?} position
     * @return {?}
     */
    function (position) {
        this.cmp.viewport.scrollXTo(position);
    };
    ThumbXDirective.decorators = [
        { type: Directive, args: [{ selector: '[scrollbarThumbX]' },] }
    ];
    /** @nocollapse */
    ThumbXDirective.ctorParameters = function () { return [
        { type: NgScrollbar },
        { type: ElementRef },
        { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] },
        { type: Directionality }
    ]; };
    return ThumbXDirective;
}(ThumbAdapter));
export { ThumbXDirective };
if (false) {
    /**
     * @type {?}
     * @protected
     */
    ThumbXDirective.prototype.cmp;
    /**
     * @type {?}
     * @protected
     */
    ThumbXDirective.prototype.element;
    /**
     * @type {?}
     * @protected
     */
    ThumbXDirective.prototype.document;
    /**
     * @type {?}
     * @protected
     */
    ThumbXDirective.prototype.dir;
}
var ThumbYDirective = /** @class */ (function (_super) {
    tslib_1.__extends(ThumbYDirective, _super);
    function ThumbYDirective(cmp, element, document) {
        var _this = _super.call(this, cmp, element.nativeElement, document) || this;
        _this.cmp = cmp;
        _this.element = element;
        _this.document = document;
        return _this;
    }
    Object.defineProperty(ThumbYDirective.prototype, "pageProperty", {
        get: /**
         * @protected
         * @return {?}
         */
        function () {
            return 'pageY';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ThumbYDirective.prototype, "viewportScrollSize", {
        get: /**
         * @protected
         * @return {?}
         */
        function () {
            return this.cmp.viewport.scrollHeight;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ThumbYDirective.prototype, "viewportScrollOffset", {
        get: /**
         * @protected
         * @return {?}
         */
        function () {
            return this.cmp.viewport.scrollTop;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ThumbYDirective.prototype, "viewportScrollMax", {
        get: /**
         * @return {?}
         */
        function () {
            return this.cmp.viewport.scrollMaxY;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ThumbYDirective.prototype, "clientProperty", {
        get: /**
         * @protected
         * @return {?}
         */
        function () {
            return 'clientY';
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ThumbYDirective.prototype, "dragStartOffset", {
        get: /**
         * @return {?}
         */
        function () {
            return this.clientRect.top;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ThumbYDirective.prototype, "size", {
        get: /**
         * @return {?}
         */
        function () {
            return this.thumbElement.clientHeight;
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @protected
     * @param {?} position
     * @param {?} size
     * @return {?}
     */
    ThumbYDirective.prototype.updateStyles = /**
     * @protected
     * @param {?} position
     * @param {?} size
     * @return {?}
     */
    function (position, size) {
        this.thumbElement.style.height = size + "px";
        this.thumbElement.style.transform = "translate3d(0px, " + position + "px, 0)";
    };
    /**
     * @protected
     * @param {?} position
     * @return {?}
     */
    ThumbYDirective.prototype.handleDrag = /**
     * @protected
     * @param {?} position
     * @return {?}
     */
    function (position) {
        return position;
    };
    /**
     * @protected
     * @param {?} position
     * @return {?}
     */
    ThumbYDirective.prototype.handleDirection = /**
     * @protected
     * @param {?} position
     * @return {?}
     */
    function (position) {
        return position;
    };
    /**
     * @protected
     * @param {?} value
     * @return {?}
     */
    ThumbYDirective.prototype.setDragging = /**
     * @protected
     * @param {?} value
     * @return {?}
     */
    function (value) {
        this.cmp.setDragging({ verticalDragging: value });
    };
    /**
     * @protected
     * @param {?} position
     * @return {?}
     */
    ThumbYDirective.prototype.scrollTo = /**
     * @protected
     * @param {?} position
     * @return {?}
     */
    function (position) {
        this.cmp.viewport.scrollYTo(position);
    };
    ThumbYDirective.decorators = [
        { type: Directive, args: [{ selector: '[scrollbarThumbY]' },] }
    ];
    /** @nocollapse */
    ThumbYDirective.ctorParameters = function () { return [
        { type: NgScrollbar },
        { type: ElementRef },
        { type: undefined, decorators: [{ type: Inject, args: [DOCUMENT,] }] }
    ]; };
    return ThumbYDirective;
}(ThumbAdapter));
export { ThumbYDirective };
if (false) {
    /**
     * @type {?}
     * @protected
     */
    ThumbYDirective.prototype.cmp;
    /**
     * @type {?}
     * @protected
     */
    ThumbYDirective.prototype.element;
    /**
     * @type {?}
     * @protected
     */
    ThumbYDirective.prototype.document;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidGh1bWIuZGlyZWN0aXZlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vbmd4LXNjcm9sbGJhci8iLCJzb3VyY2VzIjpbImxpYi9zY3JvbGxiYXIvdGh1bWIvdGh1bWIuZGlyZWN0aXZlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLEVBQUUsVUFBVSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQzlELE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUMzQyxPQUFPLEVBQUUsaUJBQWlCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUMxRCxPQUFPLEVBQUUsY0FBYyxFQUFFLE1BQU0sbUJBQW1CLENBQUM7QUFDbkQsT0FBTyxFQUFFLFdBQVcsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ2pELE9BQU8sRUFBRSxZQUFZLEVBQUUsTUFBTSxTQUFTLENBQUM7QUFFdkM7SUFDcUMsMkNBQVk7SUE4Qi9DLHlCQUFzQixHQUFnQixFQUNoQixPQUFtQixFQUNELFFBQWEsRUFDL0IsR0FBbUI7UUFIekMsWUFJRSxrQkFBTSxHQUFHLEVBQUUsT0FBTyxDQUFDLGFBQWEsRUFBRSxRQUFRLENBQUMsU0FDNUM7UUFMcUIsU0FBRyxHQUFILEdBQUcsQ0FBYTtRQUNoQixhQUFPLEdBQVAsT0FBTyxDQUFZO1FBQ0QsY0FBUSxHQUFSLFFBQVEsQ0FBSztRQUMvQixTQUFHLEdBQUgsR0FBRyxDQUFnQjs7SUFFekMsQ0FBQztJQWpDRCxzQkFBYywyQ0FBYzs7Ozs7UUFBNUI7WUFDRSxPQUFPLFNBQVMsQ0FBQztRQUNuQixDQUFDOzs7T0FBQTtJQUVELHNCQUFjLHlDQUFZOzs7OztRQUExQjtZQUNFLE9BQU8sT0FBTyxDQUFDO1FBQ2pCLENBQUM7OztPQUFBO0lBRUQsc0JBQWMsK0NBQWtCOzs7OztRQUFoQztZQUNFLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsV0FBVyxDQUFDO1FBQ3ZDLENB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QyxZQUFZLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBTSxJQUFJLE9BQUksQ0FBQztRQUM3QyxJQUFJLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQyxTQUFTLEdBQUcsc0JBQW9CLFFBQVEsV0FBUSxDQUFDO0lBQzNFLENBQUM7Ozs7OztJQUVTLG9DQUFVOzs7OztJQUFwQixVQUFxQixRQUFnQjtRQUNuQyxPQUFPLFFBQVEsQ0FBQztJQUNsQixDQUFDOzs7Ozs7SUFFUyx5Q0FBZTs7Ozs7SUFBekIsVUFBMEIsUUFBZ0I7UUFDeEMsT0FBTyxRQUFRLENBQUM7SUFDbEIsQ0FBQzs7Ozs7O0lBRVMscUNBQVc7Ozs7O0lBQXJCLFVBQXNCLEtBQWM7UUFDbEMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsRUFBRSxnQkFBZ0IsRUFBRSxLQUFLLEVBQUUsQ0FBQyxDQUFDO0lBQ3BELENBQUM7Ozs7OztJQUVTLGtDQUFROzs7OztJQUFsQixVQUFtQixRQUFnQjtRQUNqQyxJQUFJLENBQUMsR0FBRyxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLENBQUM7SUFDeEMsQ0FBQzs7Z0JBekRGLFNBQVMsU0FBQyxFQUFFLFFBQVEsRUFBRSxtQkFBbUIsRUFBRTs7OztnQkF2Rm5DLFdBQVc7Z0JBSlEsVUFBVTtnREE0SHZCLE1BQU0sU0FBQyxRQUFROztJQXlCOUIsc0JBQUM7Q0FBQSxBQTFERCxDQUNxQyxZQUFZLEdBeURoRDtTQXpEWSxlQUFlOzs7Ozs7SUE4QmQsOEJBQTBCOzs7OztJQUMxQixrQ0FBNkI7Ozs7O0lBQzdCLG1DQUF5QyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IERpcmVjdGl2ZSwgSW5qZWN0LCBFbGVtZW50UmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcbmltcG9ydCB7IERPQ1VNRU5UIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcclxuaW1wb3J0IHsgUnRsU2Nyb2xsQXhpc1R5cGUgfSBmcm9tICdAYW5ndWxhci9jZGsvcGxhdGZvcm0nO1xyXG5pbXBvcnQgeyBEaXJlY3Rpb25hbGl0eSB9IGZyb20gJ0Bhbmd1bGFyL2Nkay9iaWRpJztcclxuaW1wb3J0IHsgTmdTY3JvbGxiYXIgfSBmcm9tICcuLi8uLi9uZy1zY3JvbGxiYXInO1xyXG5pbXBvcnQgeyBUaHVtYkFkYXB0ZXIgfSBmcm9tICcuL3RodW1iJztcclxuXHJcbkBEaXJlY3RpdmUoeyBzZWxlY3RvcjogJ1tzY3JvbGxiYXJUaHVtYlhdJyB9KVxyXG5leHBvcnQgY2xhc3MgVGh1bWJYRGlyZWN0aXZlIGV4dGVuZHMgVGh1bWJBZGFwdGVyIHtcclxuXHJcbiAgcHJvdGVjdGVkIGdldCBjbGllbnRQcm9wZXJ0eSgpOiBzdHJpbmcge1xyXG4gICAgcmV0dXJuICdjbGllbnRYJztcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBnZXQgcGFnZVByb3BlcnR5KCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gJ3BhZ2VYJztcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBnZXQgdmlld3BvcnRTY3JvbGxTaXplKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5jbXAudmlld3BvcnQuc2Nyb2xsV2lkdGg7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgZ2V0IHZpZXdwb3J0U2Nyb2xsT2Zmc2V0KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5jbXAudmlld3BvcnQuc2Nyb2xsTGVmdDtcclxuICB9XHJcblxyXG4gIGdldCB2aWV3cG9ydFNjcm9sbE1heCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuY21wLnZpZXdwb3J0LnNjcm9sbE1heFg7XHJcbiAgfVxyXG5cclxuICBnZXQgZHJhZ1N0YXJ0T2Zmc2V0KCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5jbGllbnRSZWN0LmxlZnQ7XHJcbiAgfVxyXG5cclxuICBnZXQgc2l6ZSgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMudGh1bWJFbGVtZW50LmNsaWVudFdpZHRoO1xyXG4gIH1cclxuXHJcbiAgY29uc3RydWN0b3IocHJvdGVjdGVkIGNtcDogTmdTY3JvbGxiYXIsXHJcbiAgICAgICAgICAgICAgcHJvdGVjdGVkIGVsZW1lbnQ6IEVsZW1lbnRSZWYsXHJcbiAgICAgICAgICAgICAgQEluamVjdChET0NVTUVOVCkgcHJvdGVjdGVkIGRvY3VtZW50OiBhbnksXHJcbiAgICAgICAgICAgICAgcHJvdGVjdGVkIGRpcjogRGlyZWN0aW9uYWxpdHkpIHtcclxuICAgIHN1cGVyKGNtcCwgZWxlbWVudC5uYXRpdmVFbGVtZW50LCBkb2N1bWVudCk7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgdXBkYXRlU3R5bGVzKHBvc2l0aW9uOiBudW1iZXIsIHNpemU6IG51bWJlcikge1xyXG4gICAgdGhpcy50aHVtYkVsZW1lbnQuc3R5bGUud2lkdGggPSBgJHtzaXplfXB4YDtcclxuICAgIHRoaXMudGh1bWJFbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgke3Bvc2l0aW9ufXB4LCAwLCAwKWA7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgaGFuZGxlRHJhZyhwb3NpdGlvbjogbnVtYmVyLCBzY3JvbGxNYXg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICBpZiAodGhpcy5kaXIudmFsdWUgPT09ICdydGwnKSB7XHJcbiAgICAgIGlmICh0aGlzLmNtcC5tYW5hZ2VyLnJ0bFNjcm9sbEF4aXNUeXBlID09PSBSdGxTY3JvbGxBeGlzVHlwZS5ORUdBVEVEKSB7XHJcbiAgICAgICAgcmV0dXJuIHBvc2l0aW9uIC0gc2Nyb2xsTWF4O1xyXG4gICAgICB9XHJcbiAgICAgIGlmICh0aGlzLmNtcC5tYW5hZ2VyLnJ0bFNjcm9sbEF4aXNUeXBlID09PSBSdGxTY3JvbGxBeGlzVHlwZS5JTlZFUlRFRCkge1xyXG4gICAgICAgIHJldHVybiBzY3JvbGxNYXggLSBwb3NpdGlvbjtcclxuICAgICAgfVxyXG4gICAgICAvLyBLZWVwaW5nIHRoaXMgYXMgYSBtZW1vXHJcbiAgICAgIC8vIGlmICh0aGlzLnJ0bFNjcm9sbEF4aXNUeXBlID09PSBSdGxTY3JvbGxBeGlzVHlwZS5OT1JNQUwpIHtcclxuICAgICAgLy8gICByZXR1cm4gcG9zaXRpb247XHJcbiAgICAgIC8vIH1cclxuICAgIH1cclxuICAgIHJldHVybiBwb3NpdGlvbjtcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBoYW5kbGVEaXJlY3Rpb24ocG9zaXRpb246IG51bWJlciwgdHJhY2tNYXg6IG51bWJlcik6IG51bWJlciB7XHJcbiAgICBpZiAodGhpcy5kaXIudmFsdWUgPT09ICdydGwnKSB7XHJcbiAgICAgIGlmICh0aGlzLmNtcC5tYW5hZ2VyLnJ0bFNjcm9sbEF4aXNUeXBlID09PSBSdGxTY3JvbGxBeGlzVHlwZS5JTlZFUlRFRCkge1xyXG4gICAgICAgIHJldHVybiAtcG9zaXRpb247XHJcbiAgICAgIH1cclxuICAgICAgaWYgKHRoaXMuY21wLm1hbmFnZXIucnRsU2Nyb2xsQXhpc1R5cGUgPT09IFJ0bFNjcm9sbEF4aXNUeXBlLk5PUk1BTCkge1xyXG4gICAgICAgIHJldHVybiBwb3NpdGlvbiAtIHRyYWNrTWF4O1xyXG4gICAgICB9XHJcbiAgICAgIC8vIEtlZXBpbmcgdGhpcyBhcyBhIG1lbW9cclxuICAgICAgLy8gaWYgKHRoaXMucnRsU2Nyb2xsQXhpc1R5cGUgPT09IFJ0bFNjcm9sbEF4aXNUeXBlLk5FR0FURUQpIHtcclxuICAgICAgLy8gICByZXR1cm4gcG9zaXRpb247XHJcbiAgICAgIC8vIH1cclxuICAgIH1cclxuICAgIHJldHVybiBwb3NpdGlvbjtcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBzZXREcmFnZ2luZyh2YWx1ZTogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgdGhpcy5jbXAuc2V0RHJhZ2dpbmcoeyBob3Jpem9udGFsRHJhZ2dpbmc6IHZhbHVlIH0pO1xyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIHNjcm9sbFRvKHBvc2l0aW9uOiBudW1iZXIpOiB2b2lkIHtcclxuICAgIHRoaXMuY21wLnZpZXdwb3J0LnNjcm9sbFhUbyhwb3NpdGlvbik7XHJcbiAgfVxyXG59XHJcblxyXG5ARGlyZWN0aXZlKHsgc2VsZWN0b3I6ICdbc2Nyb2xsYmFyVGh1bWJZXScgfSlcclxuZXhwb3J0IGNsYXNzIFRodW1iWURpcmVjdGl2ZSBleHRlbmRzIFRodW1iQWRhcHRlciB7XHJcblxyXG4gIHByb3RlY3RlZCBnZXQgcGFnZVByb3BlcnR5KCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gJ3BhZ2VZJztcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBnZXQgdmlld3BvcnRTY3JvbGxTaXplKCk6IG51bWJlciB7XHJcbiAgICByZXR1cm4gdGhpcy5jbXAudmlld3BvcnQuc2Nyb2xsSGVpZ2h0O1xyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIGdldCB2aWV3cG9ydFNjcm9sbE9mZnNldCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuY21wLnZpZXdwb3J0LnNjcm9sbFRvcDtcclxuICB9XHJcblxyXG4gIGdldCB2aWV3cG9ydFNjcm9sbE1heCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuY21wLnZpZXdwb3J0LnNjcm9sbE1heFk7XHJcbiAgfVxyXG5cclxuICBwcm90ZWN0ZWQgZ2V0IGNsaWVudFByb3BlcnR5KCk6IHN0cmluZyB7XHJcbiAgICByZXR1cm4gJ2NsaWVudFknO1xyXG4gIH1cclxuXHJcbiAgZ2V0IGRyYWdTdGFydE9mZnNldCgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMuY2xpZW50UmVjdC50b3A7XHJcbiAgfVxyXG5cclxuICBnZXQgc2l6ZSgpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHRoaXMudGh1bWJFbGVtZW50LmNsaWVudEhlaWdodDtcclxuICB9XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBjbXA6IE5nU2Nyb2xsYmFyLFxyXG4gICAgICAgICAgICAgIHByb3RlY3RlZCBlbGVtZW50OiBFbGVtZW50UmVmLFxyXG4gICAgICAgICAgICAgIEBJbmplY3QoRE9DVU1FTlQpIHByb3RlY3RlZCBkb2N1bWVudDogYW55KSB7XHJcbiAgICBzdXBlcihjbXAsIGVsZW1lbnQubmF0aXZlRWxlbWVudCwgZG9jdW1lbnQpO1xyXG4gIH1cclxuXHJcblxyXG4gIHByb3RlY3RlZCB1cGRhdGVTdHlsZXMocG9zaXRpb246IG51bWJlciwgc2l6ZTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICB0aGlzLnRodW1iRWxlbWVudC5zdHlsZS5oZWlnaHQgPSBgJHtzaXplfXB4YDtcclxuICAgIHRoaXMudGh1bWJFbGVtZW50LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgwcHgsICR7cG9zaXRpb259cHgsIDApYDtcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBoYW5kbGVEcmFnKHBvc2l0aW9uOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgcmV0dXJuIHBvc2l0aW9uO1xyXG4gIH1cclxuXHJcbiAgcHJvdGVjdGVkIGhhbmRsZURpcmVjdGlvbihwb3NpdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgIHJldHVybiBwb3NpdGlvbjtcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBzZXREcmFnZ2luZyh2YWx1ZTogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgdGhpcy5jbXAuc2V0RHJhZ2dpbmcoeyB2ZXJ0aWNhbERyYWdnaW5nOiB2YWx1ZSB9KTtcclxuICB9XHJcblxyXG4gIHByb3RlY3RlZCBzY3JvbGxUbyhwb3NpdGlvbjogbnVtYmVyKTogdm9pZCB7XHJcbiAgICB0aGlzLmNtcC52aWV3cG9ydC5zY3JvbGxZVG8ocG9zaXRpb24pO1xyXG4gIH1cclxufVxyXG4iXX0=