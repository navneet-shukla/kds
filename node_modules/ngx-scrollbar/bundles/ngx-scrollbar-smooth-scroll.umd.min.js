!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core"),require("@angular/common"),require("@angular/cdk/coercion"),require("@angular/cdk/platform"),require("rxjs"),require("rxjs/operators"),require("bezier-easing")):"function"==typeof define&&define.amd?define("ngx-scrollbar/smooth-scroll",["exports","@angular/core","@angular/common","@angular/cdk/coercion","@angular/cdk/platform","rxjs","rxjs/operators","bezier-easing"],e):e(((t=t||self)["ngx-scrollbar"]=t["ngx-scrollbar"]||{},t["ngx-scrollbar"]["smooth-scroll"]={}),t.ng.core,t.ng.common,t.ng.cdk.coercion,t.ng.cdk.platform,t.rxjs,t.rxjs.operators,t.BezierEasing)}(this,function(t,e,r,o,n,l,i,s){"use strict";s=s&&s.hasOwnProperty("default")?s.default:s;var c=function(){return(c=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};var a=new e.InjectionToken("SMOOTH_SCROLL_OPTIONS");var u=function(){function t(t,e,r){this._document=t,this._platform=e,this._onGoingScrolls=new Map,this._defaultOptions=c({duration:468,easing:{x1:.42,y1:0,x2:.58,y2:1}},r)}return Object.defineProperty(t.prototype,"_w",{get:function(){return this._document.defaultView},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"_now",{get:function(){return this._w.performance&&this._w.performance.now?this._w.performance.now.bind(this._w.performance):Date.now},enumerable:!0,configurable:!0}),t.prototype._scrollElement=function(t,e,r){t.scrollLeft=e,t.scrollTop=r},t.prototype._getElement=function(t,e){return"string"==typeof t?(e||this._document).querySelector(t):o.coerceElement(t)},t.prototype._initSmoothScroll=function(t){return this._onGoingScrolls.has(t)&&this._onGoingScrolls.get(t).next(),this._onGoingScrolls.set(t,new l.Subject).get(t)},t.prototype._isFinished=function(t,e,r){return t.currentX!==t.x||t.currentY!==t.y||(e.next(),r(),!1)},t.prototype._interrupted=function(t,e){return l.merge(l.fromEvent(t,"wheel",{passive:!0,capture:!0}),l.fromEvent(t,"touchmove",{passive:!0,capture:!0}),e).pipe(i.take(1))},t.prototype._destroy=function(t,e){e.complete(),this._onGoingScrolls.delete(t)},t.prototype._step=function(t){var e=this;return new l.Observable(function(r){var o=(e._now()-t.startTime)/t.duration;o=o>1?1:o;var n=t.easing(o);t.currentX=t.startX+(t.x-t.startX)*n,t.currentY=t.startY+(t.y-t.startY)*n,e._scrollElement(t.scrollable,t.currentX,t.currentY),l.animationFrameScheduler.schedule(function(){return r.next(t)})})},t.prototype._applyScrollToOptions=function(t,e){var r=this;if(!e.duration)return this._scrollElement(t,e.left,e.top),Promise.resolve();var o=this._initSmoothScroll(t),n={scrollable:t,startTime:this._now(),startX:t.scrollLeft,startY:t.scrollTop,x:null==e.left?t.scrollLeft:~~e.left,y:null==e.top?t.scrollTop:~~e.top,duration:e.duration,easing:s(e.easing.x1,e.easing.y1,e.easing.x2,e.easing.y2)};return new Promise(function(e){l.of(null).pipe(i.expand(function(){return r._step(n).pipe(i.takeWhile(function(t){return r._isFinished(t,o,e)}))}),i.takeUntil(r._interrupted(t,o)),i.finalize(function(){return r._destroy(t,o)})).subscribe()})},t.prototype.scrollTo=function(t,e){if(r.isPlatformBrowser(this._platform)){var o=this._getElement(t),l="rtl"===getComputedStyle(o).direction,i=n.getRtlScrollAxisType(),s=c({},this._defaultOptions,e,{left:null==e.left?l?e.end:e.start:e.left,right:null==e.right?l?e.start:e.end:e.right});return null!=s.bottom&&(s.top=o.scrollHeight-o.clientHeight-s.bottom),l&&i!==n.RtlScrollAxisType.NORMAL?(null!=s.left&&(s.right=o.scrollWidth-o.clientWidth-s.left),i===n.RtlScrollAxisType.INVERTED?s.left=s.right:i===n.RtlScrollAxisType.NEGATED&&(s.left=s.right?-s.right:s.right)):null!=s.right&&(s.left=o.scrollWidth-o.clientWidth-s.right),this._applyScrollToOptions(o,s)}return Promise.resolve()},t.prototype.scrollToElement=function(t,e,r){var o=this._getElement(t),n=this._getElement(e,o),l=c({},r,{left:n.offsetLeft+(r.left||0),top:n.offsetTop+(r.top||0)});return n?this.scrollTo(o,l):Promise.resolve()},t.decorators=[{type:e.Injectable,args:[{providedIn:"root"}]}],t.ctorParameters=function(){return[{type:void 0,decorators:[{type:e.Inject,args:[r.DOCUMENT]}]},{type:Object,decorators:[{type:e.Inject,args:[e.PLATFORM_ID]}]},{type:void 0,decorators:[{type:e.Optional},{type:e.Inject,args:[a]}]}]},t.ngInjectableDef=e.ɵɵdefineInjectable({factory:function(){return new t(e.ɵɵinject(r.DOCUMENT),e.ɵɵinject(e.PLATFORM_ID),e.ɵɵinject(a,8))},token:t,providedIn:"root"}),t}();var p=function(){function t(t,e){this.element=t,this.smoothScroll=e}return t.prototype.scrollTo=function(t){return this.smoothScroll.scrollTo(this.element,t)},t.prototype.scrollToElement=function(t,e){return this.smoothScroll.scrollToElement(this.element,t,e)},t.decorators=[{type:e.Directive,args:[{selector:"[smoothScroll], [smooth-scroll]",exportAs:"smoothScroll"}]}],t.ctorParameters=function(){return[{type:e.ElementRef},{type:u}]},t}();var f=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{declarations:[p],exports:[p]}]}],t}();t.SMOOTH_SCROLL_OPTIONS=a,t.SmoothScroll=p,t.SmoothScrollManager=u,t.SmoothScrollModule=f,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-scrollbar-smooth-scroll.umd.min.js.map